快手相关的动态化描述（讲的挺好的）： https://juejin.cn/post/7046299455397560350#heading-13


您提到的移动端动态化是指将Web前端技术的优势(动态更新、跨平台)引入到原生客户端开发中的技术方案。这正是近年来移动端开发的重要演进方向。

## 核心价值

1. **动态发布**：绕过应用商店审核，实时更新业务逻辑和界面
    
2. **跨平台一致性**：一套代码多端运行(iOS/Android/Web)
    
3. **开发效率**：热更新机制缩短开发-测试-发布周期
    
4. **用户体验**：无需频繁更新完整App包

## 主流技术方案
### 1. WebView容器方案

- **原理**：通过内置浏览器引擎加载远程或本地HTML/JS资源
    
- **代表**：
    
    - 传统Hybrid App(Cordova/Ionic)
        
    - 小程序技术体系(微信/支付宝小程序)
        
    - 各大厂的Web容器优化方案(如腾讯X5内核)
        

### 2. JavaScript引擎+原生渲染

- **原理**：JS处理逻辑，通过中间层调用原生组件渲染
    
- **代表**：
    
    - React Native
        
    - Weex
        
### 3. 自绘引擎方案

- **原理**：JS开发，底层通过Skia等图形库直接绘制UI
    
- **代表**：
    
    - Flutter
        
    - 快应用
        

### 4. 虚拟DOM+原生桥接

- **原理**：维护虚拟DOM树，通过差异化比对更新原生组件
    
- **代表**：
    
    - 阿里Weex
        
    - 美团Kraken

动态化技术正在重塑移动开发模式，但需要根据业务特点平衡动态性与性能需求，通常采用"核心功能原生+业务模块动态化"的混合架构。


## 一、单线程下的非阻塞原理

### 1. 主线程分工

javascript

复制

下载

// 同步代码立即执行
console.log("Start rendering UI"); 

// 异步请求被移出主线程
fetch('/api/data').then(response => {
  // 回调函数延迟执行
  console.log("Data received"); 
});

// UI渲染可以继续
console.log("UI continues rendering");

- **主线程**：只负责执行JS代码、处理DOM更新
    
- **其他线程**：浏览器内核实际有多个隐藏线程(网络请求、定时器、文件读取等)
    

### 2. 关键组件协作

|组件|职责|所在线程|
|---|---|---|
|JS引擎线程|执行同步代码|主线程|
|渲染线程|布局和绘制(与JS引擎互斥)|独立线程|
|网络请求线程|处理HTTP请求|独立线程池|
|事件触发线程|管理事件队列|独立线程|